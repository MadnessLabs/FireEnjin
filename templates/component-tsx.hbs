import { Component, Prop, State, Watch, h } from "@stencil/core";

@Component({
  tag: "trackmygiving-avatar",
  styleUrl: "avatar.css"
})
export class Avatar {
  @Prop() src: string;
  @Prop() size: string;

  @State() avatarStyles: any;

  @Watch("src")
  onSrcChange() {
    this.avatarStyles = {
      backgroundImage: `url('${
        this.src ? this.src : "./assets/images/default-icon.png"
      }')`,
      height: this.size ? this.size : "50px",
      width: this.size ? this.size : "50px"
    };
  }

  componentDidLoad() {
    this.avatarStyles = {
      backgroundImage: `url('${
        this.src ? this.src : "./assets/images/default-icon.png"
      }')`,
      height: this.size ? this.size : "50px",
      width: this.size ? this.size : "50px"
    };
  }

  render() {
    return <div class="avatar-image" style={this.avatarStyles} />;
  }
}
