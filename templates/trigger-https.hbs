import * as functions from "firebase-functions";

import connect from "../connect";
connect();

import {{nameFromPathCamel name}} from "../units/{{nameFromPathCamel name}}/{{nameFromPathCamel name}}";

const cors = require("cors")({ origin: true });

/**
 * {{description}}
 */
export default functions.https.onRequest(async (req, res) => {
  cors(req, res, async () => {
    try {
      return res.status(200).send({
        ...(await {{nameFromPathCamel name}}(
          req.body ? req.body : {}
        ))
      });
    } catch (err) {
      console.log("Error with {{titleCase name}}...", err);
      return res.status(500).send({
        message: err.message
      });
    }
  });
});
